{"version":3,"sources":["index.js"],"names":["$","init","swiperData","catitems","goodslist","ajax","type","url","dataType","success","result","meta","status","html","template","arr","data","gallery","mui","slider","interval","console","log","get","i","length","tmpHtml","image_src"],"mappings":";;AAAAA,CAAC,CAAC,YAAY;AACV;AACA,WAASC,IAAT,GAAgB;AACZC,IAAAA,UAAU;AAEVC,IAAAA,QAAQ,GAHI,CAIZ;;AACAC,IAAAA,SAAS;AACZ;;AAAA;AACDH,EAAAA,IAAI,GATM,CAWV;;AACA,WAASC,UAAT,GAAsB;AAClBF,IAAAA,CAAC,CAACK,IAAF,CAAO;AACHC,MAAAA,IAAI,EAAE,KADH;AAEHC,MAAAA,GAAG,EAAE,uDAFF;AAGHC,MAAAA,QAAQ,EAAE,MAHP;AAIHC,MAAAA,OAAO,EAAE,iBAAUC,MAAV,EAAkB;AACvB,YAAIA,MAAM,CAACC,IAAP,CAAYC,MAAZ,IAAsB,GAA1B,EAA+B;AAC3B,cAAIC,IAAI,GAAGC,QAAQ,CAAC,WAAD,EAAc;AAAEC,YAAAA,GAAG,EAAEL,MAAM,CAACM;AAAd,WAAd,CAAnB;AACAhB,UAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBa,IAAhB,CAAqBA,IAArB,EAF2B,CAG3B;AACA;;AACA,cAAII,OAAO,GAAGC,GAAG,CAAC,aAAD,CAAjB;AACAD,UAAAA,OAAO,CAACE,MAAR,CAAe;AACXC,YAAAA,QAAQ,EAAE,IADC,CACG;;AADH,WAAf;AAIH,SAVD,MAUO;AACHC,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBZ,MAApB;AACH;AAEJ;AAnBE,KAAP;AAqBH,GAlCS,CAoCV;;;AACA,WAASP,QAAT,GAAoB;AAChB;AACAH,IAAAA,CAAC,CAACuB,GAAF,CAAM,qDAAN,EAA6D,UAACb,MAAD,EAAY;AACrE,UAAIA,MAAM,CAACC,IAAP,CAAYC,MAAZ,IAAsB,GAA1B,EAA+B;AAC3B;AACA;AAEA;AACA,YAAII,IAAI,GAAGN,MAAM,CAACM,IAAlB,CAL2B,CAM3B;;AACA,YAAIH,IAAI,GAAE,EAAV,CAP2B,CAQ3B;;AACA,aAAI,IAAIW,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACR,IAAI,CAACS,MAAnB,EAA0BD,CAAC,EAA3B,EAA8B;AAC1B,cAAIE,OAAO,uEACCV,IAAI,CAACQ,CAAD,CAAJ,CAAQG,SADT,gEAAX;AAIJd,UAAAA,IAAI,IAAEa,OAAN;AACC;;AAAA,SAf0B,CAgB3B;;AACA1B,QAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBa,IAAhB,CAAqBA,IAArB;AACH,OAlBD,MAkBK;AACDQ,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBZ,MAAnB;AACH;AACJ,KAtBD;AAuBH,GA9DS,CAgEV;;;AACA,WAASN,SAAT,GAAqB;AACjB;AACAJ,IAAAA,CAAC,CAACuB,GAAF,CAAM,sDAAN,EAA6D,UAACb,MAAD,EAAU;AACnE,UAAGA,MAAM,CAACC,IAAP,CAAYC,MAAZ,IAAoB,GAAvB,EAA2B;AACvB;AACA;AACA,YAAII,IAAI,GAACN,MAAM,CAACM,IAAhB,CAHuB,CAIvB;;AACA,YAAIH,IAAI,GAACC,QAAQ,CAAC,eAAD,EAAiB;AAACC,UAAAA,GAAG,EAACC;AAAL,SAAjB,CAAjB;AACAhB,QAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBa,IAApB,CAAyBA,IAAzB;AACH;AACJ,KATD;AAUF;AACL,CA9EA,CAAD","sourcesContent":["$(function () {\r\n    // 定义一个初始化函数\r\n    function init() {\r\n        swiperData();\r\n\r\n        catitems();\r\n        // 调用商品列表部分\r\n        goodslist();\r\n    };\r\n    init();\r\n\r\n    // 自动化获取图片\r\n    function swiperData() {\r\n        $.ajax({\r\n            type: \"get\",\r\n            url: \"http://api.pyg.ak48.xyz/api/public/v1/home/swiperdata\",\r\n            dataType: \"json\",\r\n            success: function (result) {\r\n                if (result.meta.status == 200) {\r\n                    var html = template(\"pyg_slide\", { arr: result.data })\r\n                    $('.pyg_slide').html(html);\r\n                    // 在这里引入初始化插件对象，不然的话，插件获取不到数据\r\n                    //获得slider插件对象\r\n                    var gallery = mui('.mui-slider');\r\n                    gallery.slider({\r\n                        interval: 5000//自动轮播周期，若为0则不自动播放，默认为0；\r\n                    });\r\n\r\n                } else {\r\n                    console.log(\"请求失败\", result);\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    // 获取分类菜单数据\r\n    function catitems() {\r\n        // $get(接口的路径，发送到后台去的参数，|可以不传，成功的回调函数)\r\n        $.get(\"http://api.pyg.ak48.xyz/api/public/v1/home/catitems\", (result) => {\r\n            if (result.meta.status == 200) {\r\n                // 请求成功\r\n                // console.log(result)\r\n\r\n                //获取要渲染的数据，数组\r\n                let data = result.data;\r\n                // 定义一个要拼接的字符串\r\n                let html =\"\";\r\n                // 循环遍历数据\r\n                for(let i=0;i<data.length;i++){\r\n                    let tmpHtml=`<a href=\"javascript:;\">\r\n                    <img src=\"${data[i].image_src}\"\r\n                        alt=\"\">\r\n                </a>`;\r\n                html+=tmpHtml;\r\n                };\r\n                // 把分类的标签插入到容器中\r\n                $(\".pyg_cates\").html(html);\r\n            }else{\r\n                console.log(\"请求失败\",result);\r\n            }\r\n        })\r\n    }\r\n\r\n    // 商品列表部分\r\n    function goodslist() { \r\n        // 发送请求\r\n        $.get(\"http://api.pyg.ak48.xyz/api/public/v1/home/goodslist\",(result)=>{\r\n            if(result.meta.status==200){\r\n                // console.log(result)\r\n                // 获取要渲染的数据\r\n                let data=result.data;\r\n                // 生成要渲染的数据， 这里的data是数组，要转成对象\r\n                let html=template(\"pyg_goodslist\",{arr:data});\r\n                $(\".pyg_goodslist\").html(html);\r\n            }\r\n        })\r\n     }\r\n})"],"file":"index.js"}