{"version":3,"sources":["category.js"],"names":["$","CateDatas","init","categories","eventList","params","on","addClass","siblings","removeClass","index","renderRight","get","result","meta","status","data","renderLeft","console","log","leftHtml","i","length","tmpHtml","cat_name","html","item2Obj","rightData","children","rightHtml","template","arr"],"mappings":";;AAAAA,CAAC,CAAC,YAAY;AACV;;;;;;;;;;;;AAaA;AACA,MAAIC,SAAJ,CAfU,CAiBV;;AACAC,EAAAA,IAAI;;AACJ,WAASA,IAAT,GAAgB;AAEZC,IAAAA,UAAU;AACVC,IAAAA,SAAS;AACX;;AAAA,GAvBQ,CAyBV;;AACA,WAASA,SAAT,CAAmBC,MAAnB,EAA2B;AACvB;AACA;AACA;AACAL,IAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBM,EAAjB,CAAoB,KAApB,EAA0B,IAA1B,EAA+B,YAAU;AACrC;AACAN,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQO,QAAR,CAAiB,QAAjB,EAA2BC,QAA3B,GAAsCC,WAAtC,CAAkD,QAAlD,EAFqC,CAIrC;;AACA,UAAIC,KAAK,GAACV,CAAC,CAAC,IAAD,CAAD,CAAQU,KAAR,EAAV,CALqC,CAMrC;AACA;;AACAC,MAAAA,WAAW,CAACD,KAAD,CAAX;AACH,KATD;AAUF,GAxCQ,CA4CV;;;AACA,WAASP,UAAT,GAAsB;AAClBH,IAAAA,CAAC,CAACY,GAAF,CAAM,kDAAN,EAAyD,UAACC,MAAD,EAAU;AAC/D,UAAGA,MAAM,CAACC,IAAP,CAAYC,MAAZ,IAAoB,GAAvB,EAA2B;AACvB;AACA;AACAd,QAAAA,SAAS,GAACY,MAAM,CAACG,IAAjB,CAHuB,CAIvB;;AACAC,QAAAA,UAAU,GALa,CAMvB;;AACAN,QAAAA,WAAW,CAAC,CAAD,CAAX;AACH,OARD,MAQK;AACDO,QAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBN,MAAlB;AACH;AACJ,KAZD;AAeF;;AAAA,GA7DQ,CA+DV;;AACA,WAASI,UAAT,GAAsB;AAClB;AACA,QAAIG,QAAQ,GAAC,EAAb;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACpB,SAAS,CAACqB,MAAxB,EAA+BD,CAAC,EAAhC,EAAmC;AAC/B,UAAIE,OAAO,uCACEF,CAAC,IAAE,CAAH,GAAK,QAAL,GAAc,EADhB,8BAETpB,SAAS,CAACoB,CAAD,CAAT,CAAaG,QAFJ,wBAAX;AAIAJ,MAAAA,QAAQ,IAAGG,OAAX;AACH;;AAAA,KATiB,CAUlB;;AACAvB,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgByB,IAAhB,CAAqBL,QAArB;AACD;;AAAA,GA5EO,CA8EV;;AACA,WAAST,WAAT,CAAqBD,KAArB,EAA4B;AACxB;AACA,QAAIgB,QAAQ,GAACzB,SAAS,CAACS,KAAD,CAAtB,CAFwB,CAGxB;;AACA,QAAIiB,SAAS,GAACD,QAAQ,CAACE,QAAvB,CAJwB,CAKxB;;AACA,QAAIC,SAAS,GAACC,QAAQ,CAAC,UAAD,EAAY;AAACC,MAAAA,GAAG,EAACJ;AAAL,KAAZ,CAAtB;AACA3B,IAAAA,CAAC,CAAC,YAAD,CAAD,CAAgByB,IAAhB,CAAqBI,SAArB;AACD;AACN,CAxFA,CAAD","sourcesContent":["$(function () {\r\n    /*  1 实现了静态布局\r\n      2 首页动态渲染数据\r\n        1 左侧菜单是全部渲染 \r\n        2 右侧的内容 是 根据左侧 被选中的菜单 才开始 渲染 \r\n        3 写两个方法  (页面用到的数据 只要发送一次请求去获取 就可以提供给下次下次 使用 )\r\n          渲染左边（）\r\n          渲染右边（）\r\n      3 点击左侧菜单\r\n        1 左侧菜单被 激活选中\r\n        2 右侧的内容 动态跟着渲染\r\n          1 先获取 被点击的li标签的索引\r\n    */\r\n\r\n    // 定义一个全局变量 存放 接口返回的数据 result.data,也可以使用传参的形式来做，不过比较麻烦\r\n    let CateDatas;\r\n\r\n    // 定义一个一开始就执行的函数\r\n    init();\r\n    function init() { \r\n\r\n        categories();\r\n        eventList();\r\n     };\r\n    \r\n    // 创建一个负责绑定页面当中的一坨事件\r\n    function eventList(params) { \r\n        // 1左侧菜单的点击事件，因为是动态生成的，所以使用事件委派\r\n        // 有一个移动端的单击事件，tap\r\n        // 这里有个bug那就是不支持es6的箭头函数语法\r\n        $(\".left_menu \").on(\"tap\",\"li\",function(){\r\n            // 当前点击的按钮显示高亮，排他\r\n            $(this).addClass(\"active\").siblings().removeClass(\"active\");\r\n\r\n            // 获取被点击到的li标签的索引 方法 $(this).index();\r\n            let index=$(this).index();\r\n            // 调用渲染数据右边数据的方法\r\n            // console.log($(this))\r\n            renderRight(index);\r\n        })\r\n     }\r\n\r\n\r\n\r\n    // 1.发请求获取数据\r\n    function categories() { \r\n        $.get(\"http://api.pyg.ak48.xyz/api/public/v1/categories\",(result)=>{\r\n            if(result.meta.status==200){\r\n                // console.log(result)\r\n                // 获取要渲染的数据\r\n                CateDatas=result.data;\r\n                // 调用渲染左边的方法\r\n                renderLeft();\r\n                // 调用渲染右边的方法\r\n                renderRight(0);\r\n            }else{\r\n                console.log(\"失败\", result);\r\n            }\r\n        })\r\n\r\n\r\n     };\r\n\r\n    // 2 定义一个渲染左边的事件 \r\n    function renderLeft() {\r\n        // 要拼接的左侧的html\r\n        let leftHtml=\"\";\r\n        for(let i=0;i<CateDatas.length;i++){\r\n            let tmpHtml=`\r\n            <li class=\"${i==0?\"active\":\"\"}\">\r\n            ${CateDatas[i].cat_name}</li>\r\n            `;\r\n            leftHtml +=tmpHtml;\r\n        };\r\n        // 把数据插入到左侧容器中\r\n        $(\".left_menu\").html(leftHtml);\r\n      };\r\n    \r\n    // 3.渲染右边\r\n    function renderRight(index) {\r\n        // 获取大家电的数据,因为CateDatas是数组，所以要加索引\r\n        let item2Obj=CateDatas[index];\r\n        // 获取右侧内容，需要循环的数据\r\n        let rightData=item2Obj.children;\r\n        // 渲染数据\r\n        let rightHtml=template(\"rightTp1\",{arr:rightData});\r\n        $('.right_box').html(rightHtml);\r\n      }\r\n})"],"file":"category.js"}